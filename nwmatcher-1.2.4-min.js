/*!
 * NWMatcher 1.2.4 - Fast CSS3 Selector Engine
 * Copyright (C) 2007-2011 Diego Perini
 * See http://nwbox.com/license
 */
(function(v){var c='nwmatcher-1.2.4',l=typeof exports=='object'?exports:((v.NW||(v.NW={}))&&(v.NW.Dom||(v.NW.Dom={}))),i=v.document,m=i.documentElement,K=[].slice,bO={}.toString,bl,W,G,X,q,bm,bn,bo,bp,L='[#.:]?',bq='([~*^$|!]?={1})',y='[\\x20\\t\\n\\r\\f]*',br='[\\x20]|[>+~][^>+~]',bs='[-+]?\\d*n?[-+]?\\d*',Y='"[^"]*"'+"|'[^']*'",bP='\\([^()]+\\)|\\(.*\\)',bQ='\\{[^{}]+\\}|\\{.*\\}',bR='\\[[^[\\]]*\\]|\\[.*\\]',Z='\\[.*\\]|\\(.*\\)|\\{.*\\}',r='(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)',B='(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+',bt='('+Y+'|'+B+')',C=y+'('+r+'+:?'+r+'+)'+y+'(?:'+bq+y+bt+')?'+y,bS=C.replace(bt,'([\\x22\\x27]*)((?:\\\\?.)*?)\\3'),M='((?:'+bs+'|'+Y+'|'+L+'|'+r+'+|\\['+C+'\\]|\\(.+\\)|'+y+'|,)+)',bT='.+',ba='(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:'+L+B+')|'+br+'|\\['+C+'\\]|\\('+M+'\\)|\\{'+bT+'\\}|,)+',bU=ba.replace(M,'.*'),N=new RegExp(ba,'g'),O=new RegExp('^'+y+'|'+y+'$','g'),bV=new RegExp('^((?!:not)('+L+'|'+B+'|\\([^()]*\\))+|\\['+C+'\\])$'),bb=new RegExp('([^,\\\\\\[\\]]+|'+bR+'|'+bP+'|'+bQ+'|\\\\.)+','g'),bW=new RegExp('(\\['+C+'\\]|\\('+M+'\\)|[^\\x20>+~]|\\\\.)+','g'),bu=/[\x20\t\n\r\f]+/g,bv=new RegExp(B+'|^$'),t=(function(){var g=(i.appendChild+'').replace(/appendChild/g,'');return function(b,a){var d=b&&b[a]||false;return d&&typeof d!='string'&&g==(d+'').replace(new RegExp(a,'g'),'')}})(),bX=t(i,'hasFocus'),P=t(i,'querySelector'),bY=t(i,'getElementById'),bZ=t(m,'getElementsByTagName'),Q=t(m,'getElementsByClassName'),ca=t(m,'getAttribute'),cb=t(m,'hasAttribute'),bw=(function(){var b=false,a=m.id;m.id='length';try{b=!!K.call(i.childNodes,0)[0]}catch(e){}m.id=a;return b})(),bx='nextElementSibling'in m&&'previousElementSibling'in m,R=t(m,'matchesSelector')?'matchesSelector':t(m,'oMatchesSelector')?'oMatchesSelector':t(m,'msMatchesSelector')?'msMatchesSelector':t(m,'mozMatchesSelector')?'mozMatchesSelector':t(m,'webkitMatchesSelector')?'webkitMatchesSelector':null,cc=bY?(function(){var b=true,a='x'+String(+new Date),d=i.createElementNS?'a':'<a name="'+a+'">';(d=i.createElement(d)).name=a;m.insertBefore(d,m.firstChild);b=!!i.getElementById(a);m.removeChild(d);return b})():true,by=bZ?(function(){var b=i.createElement('div');b.appendChild(i.createComment(''));return!!b.getElementsByTagName('*')[0]})():true,bz=Q?(function(){var b,a=i.createElement('div'),d='\u53f0\u5317';a.appendChild(i.createElement('span')).setAttribute('class',d+'abc '+d);a.appendChild(i.createElement('span')).setAttribute('class','x');b=!a.getElementsByClassName(d)[0];a.lastChild.className=d;return b||a.getElementsByClassName(d).length!=2})():true,cd=ca?(function(){var b=i.createElement('input');b.setAttribute('value',5);return b.defaultValue!=5})():true,bA=cb?(function(){var b=i.createElement('option');b.setAttribute('selected','selected');return!b.hasAttribute('selected')})():true,ce=R?(function(){try{m[R](':buggy');return true}catch(e){}return false})():true,cf=(function(){var b=i.createElement('select');b.appendChild(i.createElement('option'));return!b.firstChild.selected})(),bB,bc,z,bC,n,bD=/opera/i.test(bO.call(v.opera)),cg=bD&&parseFloat(opera.version())>=11,bE=P?(function(){var h=[],f=i.createElement('div'),c,k=function(b,a,d,g){var j=false;a.appendChild(d);try{j=a.querySelectorAll(b).length==g}catch(e){}while(a.firstChild){a.removeChild(a.firstChild)}return j};c=i.createElement('p');c.setAttribute('class','');k('[class^=""]',f,c,1)&&h.push('[*^$]=[\\x20\\t\\n\\r\\f]*(?:""|'+"'')");c=i.createElement('option');c.setAttribute('selected','selected');k(':checked',f,c,0)&&h.push(':checked');c=i.createElement('input');c.setAttribute('type','hidden');k(':enabled',f,c,1)&&h.push(':enabled',':disabled');c=i.createElement('link');c.setAttribute('href','x');k(':link',f,c,1)||h.push(':link');if(bA){h.push('\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)')}return h.length?new RegExp(h.join('|')):{'test':function(){return false}}})():true,bF=new RegExp('(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\.'+B+')'),ch=new RegExp(':[-\\w]+'),ci=new RegExp(!(by&&bz)?!bD?'^(?:\\*|[.#]?-?[_a-zA-Z]{1}'+r+'*)$':'^(?:\\*|#-?[_a-zA-Z]{1}'+r+'*)$':'^#?-?[_a-zA-Z]{1}'+r+'*$'),cj={'a':1,'A':1,'area':1,'AREA':1,'link':1,'LINK':1},ck={checked:1,disabled:1,ismap:1,multiple:1,readonly:1,selected:1},S={value:'defaultValue',checked:'defaultChecked',selected:'defaultSelected'},bG={'class':'className','for':'htmlFor'},cl={'action':2,'cite':2,'codebase':2,'data':2,'href':2,'longdesc':2,'lowsrc':2,'src':2,'usemap':2},bH={'class':0,'accept':1,'accept-charset':1,'align':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'checked':1,'clear':1,'codetype':1,'color':1,'compact':1,'declare':1,'defer':1,'dir':1,'direction':1,'disabled':1,'enctype':1,'face':1,'frame':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'method':1,'multiple':1,'nohref':1,'noresize':1,'noshade':1,'nowrap':1,'readonly':1,'rel':1,'rev':1,'rules':1,'scope':1,'scrolling':1,'selected':1,'shape':1,'target':1,'text':1,'type':1,'valign':1,'valuetype':1,'vlink':1},cm={'accept':1,'accept-charset':1,'alink':1,'axis':1,'bgcolor':1,'charset':1,'codetype':1,'color':1,'enctype':1,'face':1,'hreflang':1,'http-equiv':1,'lang':1,'language':1,'link':1,'media':1,'rel':1,'rev':1,'target':1,'text':1,'type':1,'vlink':1},D={},H={'=':"n=='%m'",'^=':"n.indexOf('%m')==0",'*=':"n.indexOf('%m')>-1",'|=':"(n+'-').indexOf('%m-')==0",'~=':"(' '+n+' ').indexOf(' %m ')>-1",'$=':"n.substr(n.length-'%m'.length)=='%m'"},E={ID:new RegExp('^\\*?#('+r+'+)|'+Z),TAG:new RegExp('^('+r+'+)|'+Z),CLASS:new RegExp('^\\*?\\.('+r+'+$)|'+Z)},w={spseudos:/^\:((root|empty|nth-)?(?:(first|last|only)-)?(child)?-?(of-type)?)(?:\(([^\x29]*)\))?(.*)/,dpseudos:/^\:(link|visited|target|lang|not|active|focus|hover|checked|disabled|enabled|selected)(?:\((["']*)(.*?(\(.*\))?[^'"()]*?)\2\))?(.*)/,attribute:new RegExp('^\\['+bS+'\\](.*)'),children:/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,adjacent:/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,relative:/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,ancestor:/^[\x20\t\n\r\f]+(.*)/,universal:/^\*(.*)/,id:new RegExp('^#('+r+'+)(.*)'),tagName:new RegExp('^('+r+'+)(.*)'),className:new RegExp('^\\.('+r+'+)(.*)')},bI=function(b,a){var d=-1,g;if(!b.length&&Array.slice)return Array.slice(a);while((g=a[++d]))b[b.length]=g;return b},bJ=function(b,a,d){var g=-1,j;while((j=a[++g]))d(b[b.length]=j);return b},F=function(a,d){var g,j=i;X=a;i=a.ownerDocument||a;if(d||j!==i){m=i.documentElement;n=i.createElement('DiV').nodeName=='DiV';bC=n?'.toUpperCase()':'';z=!n&&typeof i.compatMode=='string'?i.compatMode.indexOf('CSS')<0:(function(){var b=i.createElement('div').style;return b&&(b.width=1)&&b.width=='1px'})();g=i.createElement('div');g.appendChild(i.createElement('p')).setAttribute('class','xXx');g.appendChild(i.createElement('p')).setAttribute('class','xxx');bB=!n&&Q&&z&&(g.getElementsByClassName('xxx').length!=2||g.getElementsByClassName('xXx').length!=2);bc=!n&&P&&z&&(g.querySelectorAll('[class~=xxx]').length!=2||g.querySelectorAll('.xXx').length!=2);o.CACHING&&l.setCache(true,i)}},bd=function(b,a){var d=-1,g=null;while((g=a[++d])){if(g.getAttribute('id')==b){break}}return g},I=!cc?function(b,a){b=b.replace(/\\/g,'');return a.getElementById&&a.getElementById(b)||bd(b,a.getElementsByTagName('*'))}:function(b,a){var d=null;b=b.replace(/\\/g,'');if(n||a.nodeType!=9){return bd(b,a.getElementsByTagName('*'))}if((d=a.getElementById(b))&&d.name==b&&a.getElementsByName){return bd(b,a.getElementsByName(b))}return d},cn=function(b,a){F(a||(a=i));return I(b,a)},co=function(b,a){var d=b=='*',g=a,j=[],h=g.firstChild;d||(b=b.toUpperCase());while((g=h)){if(g.tagName>'@'&&(d||g.tagName.toUpperCase()==b)){j[j.length]=g}if((h=g.firstChild||g.nextSibling))continue;while(!h&&(g=g.parentNode)&&g!==a){h=g.nextSibling}}return j},A=!by&&bw?function(b,a){return n||a.nodeType==11?co(b,a):K.call(a.getElementsByTagName(b),0)}:function(b,a){var d=-1,g=d,j=[],h,f=a.getElementsByTagName(b);if(b=='*'){while((h=f[++d])){if(h.nodeName>'@')j[++g]=h}}else{while((h=f[++d])){j[d]=h}}return j},cp=function(b,a){F(a||(a=i));return A(b,a)},bK=function(b,a){return be('[name="'+b.replace(/\\/g,'')+'"]',a)},cq=function(b,a){var d=-1,g=d,j=[],h,f=A('*',a),c;b=' '+(z?b.toLowerCase():b).replace(/\\/g,'')+' ';while((h=f[++d])){c=n?h.getAttribute('class'):h.className;if(c&&c.length&&(' '+(z?c.toLowerCase():c).replace(bu,' ')+' ').indexOf(b)>-1){j[++g]=h}}return j},J=function(b,a){return(bz||bB||n||!a.getElementsByClassName)?cq(b,a):K.call(a.getElementsByClassName(b.replace(/\\/g,'')),0)},cr=function(b,a){F(a||(a=i));return J(b,a)},bf='compareDocumentPosition'in m?function(b,a){return(b.compareDocumentPosition(a)&16)==16}:'contains'in m?function(b,a){return b!==a&&b.contains(a)}:function(b,a){while((a=a.parentNode)){if(a===b)return true}return false},bL=!cd?function(b,a){return b.getAttribute(a)||''}:function(b,a){a=a.toLowerCase();a=bG[a]||a;if(S[a]){return b[S[a]]||''}return(cl[a]?b.getAttribute(a,2)||'':ck[a]?b.getAttribute(a)?a:'':((b=b.getAttributeNode(a))&&b.value)||'')},bg=!bA?function(b,a){return n?!!b.getAttribute(a):b.hasAttribute(a)}:function(b,a){a=a.toLowerCase();a=bG[a]||a;if(S[a]){return!!b[S[a]]}b=b.getAttributeNode(a);return!!(b&&(b.specified||b.nodeValue))},cs=function(b){b=b.firstChild;while(b){if(b.nodeType==3||b.nodeName>'@')return false;b=b.nextSibling}return true},ct=function(b){return bg(b,'href')&&cj[b.nodeName]},cu=function(b,a){var d=1,g=a?'nextSibling':'previousSibling';while((b=b[g])){if(b.nodeName>'@')++d}return d},cv=function(b,a){var d=1,g=a?'nextSibling':'previousSibling',j=b.nodeName;while((b=b[g])){if(b.nodeName==j)++d}return d},cw=function(b){for(var a in b){o[a]=!!b[a];if(a=='SIMPLENOT'){bh={};T={};bi={};U={};o['USE_QSAPI']=false;N=new RegExp(bU,'g')}else if(a=='USE_QSAPI'){o[a]=!!b[a]&&P;N=new RegExp(ba,'g')}}},u=function(b){if(o.VERBOSITY){if(typeof v.DOMException!='undefined'){var a=new Error();a.message='SYNTAX_ERR: (Selectors) '+b;a.code=12;throw a;}else{throw new Error(12,'SYNTAX_ERR: (Selectors) '+b);}}else{var d=v.console;if(d&&d.log){d.log(b)}else{if(/exception/i.test(b)){v.status=b;v.defaultStatus=b}else{v.status+=b}}}},o={CACHING:false,SHORTCUTS:false,SIMPLENOT:true,USE_HTML5:false,USE_QSAPI:P,VERBOSITY:true},bM='f&&f(c[k]);r[r.length]=c[k];continue main;',V=function(b,a,d){var g=typeof b=='string'?b.match(bb):b;if(g.length==1){a+=bN(g[0],d?bM:'f&&f(k);return true;')}else{var j=-1,h={},f;while((f=g[++j])){f=f.replace(O,'');if(!h[f]&&(h[f]=true)){a+=bN(f,d?bM:'f&&f(k);return true;')}}}if(d){return new Function('c,s,r,d,h,g,f','var N,n,x=0,k=-1,e;main:while((e=c[++k])){'+a+'}return r;')}else{return new Function('e,s,r,d,h,g,f','var N,n,x=0,k=e;'+a+'return false;')}},bN=function(b,a){var d,g,j,h=0,f,c,k,x,p,s;while(b){h++;if((c=b.match(w.universal))){f=''}else if((c=b.match(w.id))){a='if('+(n?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+c[1]+'"){'+a+'}'}else if((c=b.match(w.tagName))){a='if(e.nodeName'+(n?'=="'+c[1]+'"':bC+'=="'+c[1].toUpperCase()+'"')+'){'+a+'}'}else if((c=b.match(w.className))){a='if((n='+(n?'s.getAttribute(e,"class")':'e.className')+')&&n.length&&(" "+'+(z?'n.toLowerCase()':'n')+'.replace('+bu+'," ")+" ").indexOf(" '+(z?c[1].toLowerCase():c[1])+' ")>-1){'+a+'}'}else if((c=b.match(w.attribute))){f=c[1].split(':');f=f.length==2?f[1]:f[0]+'';if(c[2]&&!H[c[2]]){u('Unsupported operator in attribute selectors "'+b+'"');return''}p=false;s='false';if(c[2]&&c[4]&&(s=H[c[2]])){bH['class']=z?1:0;c[4]=c[4].replace(/\\([0-9a-f]{2,2})/,'\\x$1');p=(n?cm:bH)[f.toLowerCase()];s=s.replace(/\%m/g,p?c[4].toLowerCase():c[4])}else if(c[2]=='!='||c[2]=='='){s='n'+c[2]+'="'+c[4]+'"'}f='n=s.'+(c[2]?'get':'has')+'Attribute(e,"'+c[1]+'")'+(p?'.toLowerCase();':';');a=f+'if('+(c[2]?s:'n')+'){'+a+'}'}else if((c=b.match(w.adjacent))){a=bx?'var N'+h+'=e;if(e&&(e=e.previousElementSibling)){'+a+'}e=N'+h+';':'var N'+h+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+a+'break;}}e=N'+h+';'}else if((c=b.match(w.relative))){a=bx?('var N'+h+'=e;e=e.parentNode.firstElementChild;while(e&&e!==N'+h+'){'+a+'e=e.nextElementSibling}e=N'+h+';'):('var N'+h+'=e;e=e.parentNode.firstChild;while(e&&e!==N'+h+'){if(e.nodeName>"@"){'+a+'}e=e.nextSibling}e=N'+h+';');}else if((c=b.match(w.children))){a='var N'+h+'=e;if(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'}e=N'+h+';';}else if((c=b.match(w.ancestor))){a='var N'+h+'=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){'+a+'}e=N'+h+';';}else if((c=b.match(w.spseudos))&&c[1]){switch(c[2]){case'root':if(c[7]){a='if(e===h||s.contains(h,e)){'+a+'}';}else{a='if(e===h){'+a+'}';}break;case'empty':a='if(s.isEmpty(e)){'+a+'}';break;default:if(c[2]&&c[6]){if(c[6]=='n'){a='if(e!==h){'+a+'}';break;}else if(c[6]=='even'){d=2;g=0;}else if(c[6]=='odd'){d=2;g=1;}else{g=((j=c[6].match(/(-?\d+)$/))?parseInt(j[1],10):0);d=((j=c[6].match(/(-?\d*)n/))?parseInt(j[1],10):0);if(j&&j[1]=='-')d=-1;}p=g<1&&d>1?'(n-('+g+'))%'+d+'==0':d>+1?(c[3]=='last')?'(n-('+g+'))%'+d+'==0':'n>='+g+'&&(n-('+g+'))%'+d+'==0':d<-1?(c[3]=='last')?'(n-('+g+'))%'+d+'==0':'n<='+g+'&&(n-('+g+'))%'+d+'==0':d===0?'n=='+g:(c[3]=='last')?d==-1?'n>='+g:'n<='+g:d==-1?'n<='+g:'n>='+g;a='if(e!==h){n=s['+(c[5]?'"nthOfType"':'"nthElement"')+'](e,'+(c[3]=='last'?'true':'false')+');if('+p+'){'+a+'}}';}else{d=c[3]=='first'?'previous':'next';j=c[3]=='only'?'previous':'next';g=c[3]=='first'||c[3]=='last';s=c[5]?'&&n.nodeName!=e.nodeName':'&&n.nodeName<"@"';a='if(e!==h){'+('n=e;while((n=n.'+d+'Sibling)'+s+');if(!n){'+(g?a:'n=e;while((n=n.'+j+'Sibling)'+s+');if(!n){'+a+'}')+'}')+'}';}break;}}else if((c=b.match(w.dpseudos))&&c[1]){switch(c[1]){case'not':f=c[3].replace(O,'');if(o.SIMPLENOT&&!bV.test(f)){u('Negation pseudo-class only accepts simple selectors "'+b+'"');return'';}else{if('compatMode'in i){a='if(!'+V([f],'',false)+'(e,s,r,d,h,g)){'+a+'}';}else{a='if(!s.match(e, "'+f.replace(/\x22/g,'\\"')+'",g)){'+a+'}';}}break;case'checked':p='if((typeof e.form!="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)';a=(o.USE_HTML5?p+'||(/^option$/i.test(e.nodeName)&&e.selected)':p)+'){'+a+'}';break;case'disabled':a='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&e.disabled){'+a+'}';break;case'enabled':a='if(((typeof e.form!="undefined"&&!(/^hidden$/i).test(e.type))||s.isLink(e))&&!e.disabled){'+a+'}';break;case'lang':p='';if(c[3])p=c[3].substr(0,2)+'-';a='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+c[3].toLowerCase()+'")||(n&&(n=="'+c[3].toLowerCase()+'"||n.substr(0,3)=="'+p.toLowerCase()+'"))){'+a+'break;}}while((e=e.parentNode)&&e!==g);';break;case'target':j=i.location?i.location.hash:'';if(j){a='if(e.id=="'+j.slice(1)+'"){'+a+'}';}break;case'link':a='if(s.isLink(e)&&!e.visited){'+a+'}';break;case'visited':a='if(s.isLink(e)&&e.visited){'+a+'}';break;case'active':if(n)break;a='if(e===d.activeElement){'+a+'}';break;case'hover':if(n)break;a='if(e===d.hoverElement){'+a+'}';break;case'focus':if(n)break;a=bX?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href)){'+a+'}':'if(e===d.activeElement&&(e.type||e.href)){'+a+'}';break;case'selected':f=cf?'||(n=e.parentNode)&&n.options[n.selectedIndex]===e':'';a='if(/^option$/i.test(e.nodeName)&&(e.selected'+f+')){'+a+'}';break;default:break;}}else{f=false;x=true;for(f in D){if((c=b.match(D[f].Expression))&&c[1]){k=D[f].Callback(c,a);a=k.source;x=k.status;if(x)break;}}if(!x){u('Unknown pseudo-class selector "'+b+'"');return'';}if(!f){u('Unknown token in selector "'+b+'"');return'';}}if(!c){u('Invalid syntax in selector "'+b+'"');return'';}b=c&&c[c.length-1];}return a;},bj=function(b,a,d,g){var j;if(!(b&&b.nodeName>'@')){u('Invalid element argument');return false;}else if(!a||typeof a!='string'){u('Invalid selector argument');return false;}else if(d&&d.nodeType==1&&!bf(d,b)){return false;}else if(X!==d){F(d||(d=b.ownerDocument));}a=a.replace(O,'');o.SHORTCUTS&&(a=NW.Dom.shortcuts(a,b,d));if(bm!=a){if((j=a.match(N))&&j[0]==a){bl=(j=a.match(bb)).length<2;bm=a;bo=j;}else{u('The string "'+a+'", is not a valid CSS selector');return false;}}else j=bo;if(!n&&o.USE_QSAPI&&b[R]&&!(bc&&bF.test(a))&&!(ce&&ch.test(a))&&!bE.test(a)){try{if(b[R](a)){if(typeof g=='function'){g(b);}return true;}return false;}catch(e){}}if(!T[a]||bh[a]!==d){T[a]=V(bl?[a]:j,'',false);bh[a]=d;}return T[a](b,bk,[],i,m,d,g);},be=function(b,a,d){var g,j,h,f,c,k,x=b;if(arguments.length===0){u('Missing required selector parameters');return[];}else if(b===''){u('Empty selector string');return[];}else if(typeof b!='string'){return[];}else if(X!==a){F(a||(a=i));}if(o.CACHING&&(f=l.loadResults(x,a,i,m))){return d?bJ([],f,d):f;}if(!cg&&ci.test(b)){switch(b.charAt(0)){case'#':if((h=I(b.slice(1),a))){f=[h];}else f=[];break;case'.':f=J(b.slice(1),a);break;default:f=A(b,a);break;}}else if(!n&&o.USE_QSAPI&&!(bc&&bF.test(b))&&!bE.test(b)){try{f=a.querySelectorAll(b);}catch(e){}}if(f){f=d?bJ([],f,d):bw?K.call(f):bI([],f);o.CACHING&&l.saveResults(x,a,i,f);return f;}b=b.replace(O,'');o.SHORTCUTS&&(b=NW.Dom.shortcuts(b,a));if((j=bn!=b)){if((c=b.match(N))&&c[0]==b){W=(c=b.match(bb)).length<2;bn=b;bp=c;}else{u('The string "'+b+'", is not a valid CSS selector');return[];}}else c=bp;if(a.nodeType==11){f=a.childNodes;}else if(!n&&W){if(j){c=b.match(bW);k=c[c.length-1];G=k.split(':not')[0];q=b.length-k.length;}if((c=G.match(E.ID))&&(k=c[1])){if((h=I(k,a))){if(bj(h,b)){d&&d(h);f=[h];}else f=[];}}else if((c=b.match(E.ID))&&(k=c[1])){if((h=I(k,i))){if('#'+k==b){d&&d(h);f=[h];}if(/[>+~]/.test(b)){a=h.parentNode;}else{b=b.replace('#'+k,'*');q-=k.length+1;a=h;}}else f=[];}if(f){o.CACHING&&l.saveResults(x,a,i,f);return f;}if(!Q&&(c=G.match(E.TAG))&&(k=c[1])){if((f=A(k,a)).length===0){return[];}b=b.slice(0,q)+b.slice(q).replace(k,'*');}else if((c=G.match(E.CLASS))&&(k=c[1])){if((f=J(k,a)).length===0){return[];}if(bv.test(b.charAt(b.indexOf(k)-1))){b=b.slice(0,q)+b.slice(q).replace('.'+k,'');}else{b=b.slice(0,q)+b.slice(q).replace('.'+k,'*');}}else if((c=b.match(E.CLASS))&&(k=c[1])){if((f=J(k,a)).length===0){return[];}for(var p=0,s=[];f.length>p;++p){s=bI(s,f[p].getElementsByTagName('*'));}f=s;if(bv.test(b.charAt(b.indexOf(k)-1))){b=b.slice(0,q)+b.slice(q).replace('.'+k,'');}else{b=b.slice(0,q)+b.slice(q).replace('.'+k,'*');}}else if(Q&&(c=G.match(E.TAG))&&(k=c[1])){if((f=A(k,a)).length===0){return[];}b=b.slice(0,q)+b.slice(q).replace(k,'*');}}if(!f){f=/^(?:applet|object)$/i.test(a.nodeName)?a.childNodes:A('*',a);}if(!U[b]||bi[b]!==a){U[b]=V(W?[b]:c,'',true);bi[b]=a}f=U[b](f,bk,[],i,m,a,d);o.CACHING&&l.saveResults(x,a,i,f);return f},bh={},T={},bi={},U={},bk={nthElement:cu,nthOfType:cv,getAttribute:bL,hasAttribute:bg,byClass:J,byName:bK,byTag:A,byId:I,contains:bf,isEmpty:cs,isLink:ct,select:be,match:bj};Tokens={prefixes:L,encoding:r,operators:bq,whitespace:y,identifier:B,attributes:C,combinators:br,pseudoclass:M,pseudoparms:bs,quotedvalue:Y};l.emit=u;l.byId=cn;l.byTag=cp;l.byName=bK;l.byClass=cr;l.getAttribute=bL;l.hasAttribute=bg;l.match=bj;l.select=be;l.compile=V;l.contains=bf;l.configure=cw;l.setCache=function(){return};l.loadResults=function(){return};l.saveResults=function(){return};l.shortcuts=function(b){return b};l.Config=o;l.Snapshot=bk;l.Operators=H;l.Selectors=D;l.Tokens=Tokens;l.registerOperator=function(b,a){H[b]||(H[b]=a)};l.registerSelector=function(b,a,d){D[b]||(D[b]={Expression:a,Callback:d})};F(i,true)})(this);
